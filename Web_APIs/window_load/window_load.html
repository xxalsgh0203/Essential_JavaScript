<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="test.js" defer></script>  <!-- defer 옵션 쓰게 되면 HTML 이 전부 파싱(분석) 완료된 다음에 contentLoad event 발생전에 먼저 호출됨-->
</head>
<body>
    <script>
        // only document. 즉, html 만 다 완료가 되면 이것이 호출이 됨
        window.addEventListener('DOMContentLoaded', () => {
            console.log('DOMContentLoaded');
        });
        // after resource. 즉, 페이지 안에서 쓰여지고 있는 폰트나 이미지 같은 것들 css 나 모든것들이 다운로드가 완료되면 그 때 호출이 됨
        window.addEventListener('load', () => {
            console.log('load');
        });
        // before unload. 사용자가 페이지를 나가기 전에, 즉 브라우저에서 페이지를 내리기전에 우리가 뭘 해야한다면, 여기에 콜백함수를 넣어서 처리할 수 있음
        window.addEventListener('beforeunload', () => {
            console.log('beforeunload');
        });
        //resource is unload
        window.addEventListener('unload', () => {
            console.log('unload');
        });
    </script>
</body>
</html>


출력순서: 1. js loaded  2. DOMContentLoaded 3. load
즉 defer 옵션 스게 되면 HTML 이 전부 parsing, 분석이 완료 된 다음에 contentLoaded 가 출력 되기 이전에, 즉 contentLoad event 가 발생하기 전에 먼저 호출이 되며
그 다음에 contentLoaded 가 호출이 되고 그 다음에 페이지에서 쓰여지는 이미지나 폰트 같은것이 다운로드 되면 load 가 호출이 됩니다. 
따라서 우리가 자바스크립트 파일이 어떤 리소스에 대해서 이미지나 폰트에 대해서 뭔가를 수행하지 않는 이상 DOMContentLoaded 안에서 동작을 수행하는 것이 조금 더 빠르게 사용자가
볼 수 있는 장점이 있으며 다행히 defer 옵션을 사용하면 DOMContentLoaded 이전에, 즉 이것이 발생하는 시점즘에 비슷하게 발생하기 때문에 효율적으로 쓰여진다. 
결론 : defer 짱!!
